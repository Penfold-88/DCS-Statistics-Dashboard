# DCS Statistics Dashboard - Docker Environment Configuration
# Copy this file to .env and customize for your deployment

# ==============================================================================
# CONTAINER CONFIGURATION
# ==============================================================================

# Container naming and image settings
CONTAINER_NAME=dcs-statistics
HOSTNAME=dcs-stats
IMAGE_TAG=latest
PHP_VERSION=8.2

# Port Configuration
# Change this to avoid conflicts with other services
WEB_PORT=8080
INTERNAL_PORT=80

# Data persistence path (relative or absolute)
DATA_PATH=./data

# Restart policy: no, always, on-failure, unless-stopped
RESTART_POLICY=unless-stopped

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

# Run as root user (NOT RECOMMENDED - only for special cases)
# When false (default), runs as non-root 'www' user for security
RUN_AS_ROOT=false

# ==============================================================================
# PHP CONFIGURATION
# ==============================================================================

# Memory and execution limits
PHP_MEMORY_LIMIT=256M
PHP_MAX_EXECUTION_TIME=300
PHP_MAX_INPUT_TIME=300
PHP_MAX_INPUT_VARS=1000

# Upload limits
PHP_UPLOAD_MAX_FILESIZE=50M
PHP_POST_MAX_SIZE=50M

# Session configuration (timeout in minutes)
PHP_SESSION_TIMEOUT=1440

# Error handling
PHP_DISPLAY_ERRORS=Off
PHP_ERROR_REPORTING=E_ALL & ~E_DEPRECATED & ~E_STRICT

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================

# Admin session name (change for security)
ADMIN_SESSION_NAME=DCS_ADMIN_SESSION

# Force HTTPS (set to true in production with SSL)
ENFORCE_HTTPS=false

# CORS allowed origins (comma-separated or * for all)
ALLOWED_ORIGINS=*

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================

# Your site URL (used for redirects and links)
SITE_URL=http://localhost:8080

# Timezone (see: https://www.php.net/manual/en/timezones.php)
TIMEZONE=UTC

# Nginx worker processes (auto = CPU cores)
NGINX_WORKER_PROCESSES=auto

# Nginx worker connections
NGINX_WORKER_CONNECTIONS=1024

# Debug mode (set to false in production)
DEBUG_MODE=false

# Maintenance mode
MAINTENANCE_MODE=false
# Comma-separated list of IPs allowed during maintenance
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# ==============================================================================
# CACHE CONFIGURATION
# ==============================================================================

# Enable/disable caching
CACHE_ENABLED=true

# Cache time-to-live in seconds
CACHE_TTL=300

# Cache directory path inside container
CACHE_PATH=/var/www/html/data/cache

# ==============================================================================
# RESOURCE LIMITS
# ==============================================================================

# CPU limits (number of cores)
CPU_LIMIT=2
CPU_RESERVATION=0.5

# Memory limits
MEMORY_LIMIT=512M
MEMORY_RESERVATION=256M

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================

# Log driver: json-file, syslog, journald, gelf, fluentd, awslogs, etc.
LOG_DRIVER=json-file

# Log rotation settings (for json-file driver)
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# ==============================================================================
# HEALTH CHECK CONFIGURATION
# ==============================================================================

HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START=30s

# ==============================================================================
# NETWORK CONFIGURATION
# ==============================================================================

# Docker network subnet (change if conflicts with existing networks)
NETWORK_SUBNET=172.20.0.0/16

# ==============================================================================
# OPTIONAL FEATURES
# ==============================================================================

# Custom theme CSS file path (leave empty to disable)
# Example: ./custom/my-theme.css
CUSTOM_THEME=

# Version and maintainer info for container labels
VERSION=1.0
MAINTAINER=admin@example.com

# ==============================================================================
# DEVELOPMENT OPTIONS
# ==============================================================================

# Enable XDebug for development (requires custom Dockerfile)
# XDEBUG_ENABLED=false
# XDEBUG_HOST=host.docker.internal
# XDEBUG_PORT=9003